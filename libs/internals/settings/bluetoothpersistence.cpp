// This file is generated by kconfig_compiler from bluetooth.kcfg.
// All changes you do to this file will be lost.

#include <nm-setting-bluetooth.h>

#include "bluetoothpersistence.h"
#include "bluetooth.h"

using namespace Knm;

BluetoothPersistence::BluetoothPersistence(BluetoothSetting * setting, KSharedConfig::Ptr config, ConnectionPersistence::SecretStorageMode mode) : SettingPersistence(setting, config, mode)
{
}

BluetoothPersistence::~BluetoothPersistence()
{
}

void BluetoothPersistence::load()
{
  BluetoothSetting * setting = static_cast<BluetoothSetting *>(m_setting);
  setting->setNetworkname(m_config->readEntry("name", ""));
  setting->setBdaddrFromString(m_config->readEntry("bdaddr", QString()));
  setting->setNetworktype(m_config->readEntry("type", NM_SETTING_BLUETOOTH_TYPE_DUN));
  setting->setInitialized();
}

void BluetoothPersistence::save()
{
  BluetoothSetting * setting = static_cast<BluetoothSetting *>(m_setting);
  m_config->writeEntry("name", setting->networkname());
  m_config->writeEntry("bdaddr", setting->bdaddrAsString());
  m_config->writeEntry("type", setting->networktype());
}

QMap<QString,QString> BluetoothPersistence::secrets() const
{
  QMap<QString,QString> map;
  return map;
}

void BluetoothPersistence::restoreSecrets(QMap<QString,QString> secrets) const
{
  Q_UNUSED(secrets);
}
