set( ADAPTER_INTROSPECTION_XML_FILES
   introspection/nm-settings.xml
   introspection/nm-settings-connection.xml
   )

set_source_files_properties( ${ADAPTER_INTROSPECTION_XML_FILES} PROPERTIES NO_NAMESPACE TRUE )

set( FILES_TO_BUILD activeconnection.cpp
   nm-manager-clientinterface.cpp
   nm-deviceinterface.cpp
   nm-access-pointinterface.cpp
   nm-device-802-3-ethernetinterface.cpp
   nm-device-802-11-wirelessinterface.cpp
   nm-ip4-configinterface.cpp
)

set( UNUSED_GENERATED_FILES
   nm-vpn-connectioninterface.cpp
   nm-exported-connectioninterface.cpp
   nm-vpn-managerinterface.cpp
   nm-vpn-plugininterface.cpp
)

QT4_ADD_DBUS_INTERFACES( FILES_TO_BUILD ${INTERFACE_INTROSPECTION_XML_FILES} )

kde4_add_library(networkmanagerdbus ${FILES_TO_BUILD})

TARGET_LINK_LIBRARIES(networkmanagerdbus ${QT_QTCORE_LIBRARY} ${QT_QTDBUS_LIBRARY})

